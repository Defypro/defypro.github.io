<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Defy</title>
  
  <subtitle>莫道君行早，更有早行人</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://defypro.github.io/"/>
  <updated>2019-05-22T01:58:58.192Z</updated>
  <id>http://defypro.github.io/</id>
  
  <author>
    <name>Defy</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>浅析Vue响应式原理</title>
    <link href="http://defypro.github.io/2019/05/20/analysis-of-vue-response-principle/"/>
    <id>http://defypro.github.io/2019/05/20/analysis-of-vue-response-principle/</id>
    <published>2019-05-20T16:36:52.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<p>Vue的双向绑定基本原理是Obeject.defineProperty()劫持对象属性来实现修改数据改变视图，修改视图改变数据。那么具体是如何在数据和视图建立起关联的呢？</p><p>通过查看Vue源码我们了解到Vue内部实现了<code>Observer</code> <code>Watcher</code> <code>Compile</code> <code>Dep</code> 四个类，我们理一下逻辑这四个类是如何关联工作的呢？<br>我们先简单介绍一下这四个类是干什么的。<br>1、<code>Observer</code>：Observer通过Obeject.defineProperty劫持data的每个属性，这样我们就能监听到对象属性的<code>setter</code>和<code>getter</code><br>2、<code>Compile</code>：Compile是用来解析模板中的插值和指令<br>3、<code>Watcher</code>：Watcher是用来当数据发生变化时执行更新模板的方法<br>4、<code>Dep</code>：依赖收集器，主要是用来收集Watcher的，当数据变化时会通知收集到的Watcher进行更新</p><p>了解了上面四个类的简单作用之后，我们来梳理一下它们是如何工作的。<br>下面是一个简单的例子<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    &#123;&#123;text&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    const vm = new Vue(&#123;</span></span><br><span class="line"><span class="undefined">        el:'#app',</span></span><br><span class="line"><span class="undefined">        data:&#123;</span></span><br><span class="line"><span class="undefined">            text:1</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined">    vm.text = 2;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>1、new Vue的时候内部会进行一些初始化，其中最重要的就是Observer通过Obeject.defineProperty劫持data对象，这个时候就能监听到对象属性的变化了<br>2、Compile解析模板也就是<code>#app</code>里面的内容，解析到插值，此时将其替换为实际值，同时实例化一个<code>Watcher</code>来保存更新操作<br>3、上一步我们可以看到<code>Watcher</code>被实例化了，那么实例化的时候做了什么操作呢。<br>    1.存储<code>Compile</code>中实例化时传递过来的更新方法。并且声明一个<code>update</code>方法来调用更新。<br>    2.<code>Dep.target</code>设置为<code>this</code>也就是告诉依赖收集器当前要收集的Watcher对象。<br>    3.然后访问一次<code>data.text</code>触发<code>getter</code>，在<code>getter</code>中判断<code>Dep.target</code>如果存在的话则将其添加到Dep的subs中<br>    4.当<code>data.text</code>被修改的时候则会触发<code>setter</code>，Dep就会遍历subs调用<code>Watcher</code>的update方法进行视图更新</p><p>总结，我们可以理解为每个属性都有一个发布者<code>Dep</code>用来收集订阅者也就是<code>Watcher</code>，<code>Compile</code>在进行模板解析的时候如果匹配到相应的插值或者指令则会创建一个<code>Watcher</code>并且将视图更新方法通过回调函数的方式存入<code>Watcher</code>，而<code>Watcher</code>则可以通过<code>update</code>方法来调用这个回调函数。紧接着<code>Watcher</code>会将自己也就是<code>this</code>存入全局的<code>Dep.target</code>中并且访问一次数据对象的属性来触发<code>getter</code>，这个时候Dep就会把<code>Watcher</code>存起来，也就是对象属性拥有了一个订阅者<code>Watcher</code>。当发生赋值操作的时候会触发对象属性的<code>setter</code>来调用这个对象属性拥有的发布者也就是<code>Dep</code>，通过遍历<code>Dep</code>的<code>subs</code>也就是订阅者列表来调用每一个<code>Watcher</code>的<code>update</code>方法，达到修改数据更新视图的目的。<br>那么通过修改视图达到改变数据是如何实现的呢，其实简单来说也是<code>Compile</code>解析模板发现<code>v-model</code>，然后监听该节点的input事件，在事件触发时修改对象属性，这样就会触发对象属性的<code>setter</code>，如果模板上有在其他地方绑定这个属性那么就又回到我们上面的说的，解析模板给属性的<code>Dep</code>添加<code>Watcher</code>，然后当更新属性会触发<code>Watcher</code>的update这么一个流程中了。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Vue的双向绑定基本原理是Obeject.defineProperty()劫持对象属性来实现修改数据改变视图，修改视图改变数据。那么具体是如何在数据和视图建立起关联的呢？&lt;/p&gt;
&lt;p&gt;通过查看Vue源码我们了解到Vue内部实现了&lt;code&gt;Observer&lt;/code&gt; 
      
    
    </summary>
    
    
      <category term="Vue" scheme="http://defypro.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Nginx+Php-fpm运行原理详解</title>
    <link href="http://defypro.github.io/2018/12/13/detailed-operating-principle-of-nginx+php-fpm/"/>
    <id>http://defypro.github.io/2018/12/13/detailed-operating-principle-of-nginx+php-fpm/</id>
    <published>2018-12-13T13:56:57.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<!-- #### 代理与反向代理##### 正向代理：访问google.com![img](http://wx2.sinaimg.cn/mw690/0060lm7Tly1fy534n203wj30fq02k749.jpg) --><h3 id="Nginx是什么？"><a href="#Nginx是什么？" class="headerlink" title="Nginx是什么？"></a>Nginx是什么？</h3><blockquote><p>Nginx (engine x) 是一个高性能的HTTP和反向代理服务，也是一个IMAP/POP3/SMTP服务。Nginx是由伊戈尔·赛索耶夫为俄罗斯访问量第二的Rambler.ru站点（俄文：Рамблер）开发的，第一个公开版本0.1.0发布于2004年10月4日。<br>其将源代码以类BSD许可证的形式发布，因它的稳定性、丰富的功能集、示例配置文件和低系统资源的消耗而闻名。2011年6月1日，nginx 1.0.4发布。<br>Nginx是一款轻量级的Web 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器，并在一个BSD-like 协议下发行。其特点是占有内存少，并发能力强，事实上nginx的并发能力确实在同类型的网页服务器中表现较好，中国大陆使用nginx网站用户有：百度、京东、新浪、网易、腾讯、淘宝等。来自百度百科</p></blockquote><h3 id="PHP-FPM是什么？"><a href="#PHP-FPM是什么？" class="headerlink" title="PHP-FPM是什么？"></a>PHP-FPM是什么？</h3><p>了解PHP-FPM前我们需要先知道<code>cgi</code>、<code>php-cgi</code>、<code>fast-cgi</code></p><h4 id="CGI"><a href="#CGI" class="headerlink" title="CGI"></a>CGI</h4><blockquote><p>为了解决不同的语言解释器(如php、python解释器)与webserver的通信，于是出现了cgi协议。只要你按照cgi协议去编写程序，就能实现语言解释器与webwerver的通信。如php-cgi程序。</p></blockquote><blockquote><p>CGI 是Web 服务器运行时外部程序的规范,按CGI 编写的程序可以扩展服务器功能。CGI 应用程序能与浏览器进行交互,还可通过数据库API 与数据库服务器等外部数据源进行通信,从数据库服务器中获取数据。格式化为HTML文档后，发送给浏览器，也可以将从浏览器获得的数据放到数据库中。几乎所有服务器都支持CGI,可用任何语言编写CGI,包括流行的C、C ++、VB 和Delphi 等。CGI 分为标准CGI 和间接CGI两种。标准CGI 使用命令行参数或环境变量表示服务器的详细请求，服务器与浏览器通信采用标准输入输出方式。间接CGI 又称缓冲CGI,在CGI 程序和CGI 接口之间插入一个缓冲程序，缓冲程序与CGI 接口间用标准输入输出进行通信。来自百度百科</p></blockquote><h4 id="FastCGI"><a href="#FastCGI" class="headerlink" title="FastCGI"></a>FastCGI</h4><p>有了cgi协议，解决了php解释器与webserver通信的问题，webserver终于可以处理动态语言了。但是，webserver每收到一个请求，都会去fork一个cgi进程，请求结束再kill掉这个进程。这样有10000个请求，就需要fork、kill php-cgi进程10000次。于是，出现了cgi的改良版本，fast-cgi。</p><blockquote><p>fast-cgi 是cgi的升级版本，FastCGI像是一个常驻(long-live)型的CGI，它可以一直执行着，只要激活后，不会每次都要花费时间去fork一 次。PHP使用PHP-FPM(FastCGI Process Manager)，全称PHP FastCGI进程管理器进行管理。</p></blockquote><h5 id="FastCGI的工作原理"><a href="#FastCGI的工作原理" class="headerlink" title="FastCGI的工作原理"></a>FastCGI的工作原理</h5><blockquote><p>1、Web Server启动时载入FastCGI进程管理器(IIS ISAPI或Apache Module)</p><p>2、FastCGI进程管理器自身初始化，启动多个CGI解释器进程(可见多个php-cgi)并等待来自Web Server的连接。</p><p>3、当客户端请求到达Web Server时，FastCGI进程管理器选择并连接到一个CGI解释器。Web server将CGI环境变量和标准输入发送到FastCGI子进程php-cgi。</p><p>4、 FastCGI子进程完成处理后将标准输出和错误信息从同一连接返回Web Server。当FastCGI子进程关闭连接时，请求便告处理完成。FastCGI子进程接着等待并处理来自FastCGI进程管理器(运行在Web Server中)的下一个连接。 在CGI模式中，php-cgi在此便退出了。</p><p>在上述情况中，你可以想象CGI通常有多慢。每一个Web请求PHP都必须重新解析php.ini、重新载入全部扩展并重初始化全部数据结构。使用FastCGI，所有这些都只在进程启&gt;动时发生一次。一个额外的 好处是，持续数据库连接(Persistent database connection)可以工作。</p></blockquote><h3 id="PHP-CGI"><a href="#PHP-CGI" class="headerlink" title="PHP-CGI"></a>PHP-CGI</h3><p>PHP-CGI是早期php官方出品的FastCGI管理器，也是用来解释PHP脚本的</p><h3 id="PHP-FPM是什么"><a href="#PHP-FPM是什么" class="headerlink" title="PHP-FPM是什么"></a>PHP-FPM是什么</h3><p>据说是修改了php.ini配置文件后，没办法平滑重启，所以就诞生了php-fpm</p><p>PHP-FPM(FastCGI Process Manager：FastCGI进程管理器)是一个实现了Fastcgi的程序，并且提供进程管理的功能。进程包括master进程和worker进程。master进程只有一个，负责监听端口，接受来自web server的请求。worker进程一般会有多个，每个进程中会嵌入一个PHP解析器，进程PHP代码的处理。</p><blockquote><p>PHP-FPM(FastCGI Process Manager：FastCGI进程管理器)是一个PHPFastCGI管理器，对于PHP 5.3.3之前的php来说，是一个补丁包 [1]  ，旨在将FastCGI进程管理整合进PHP包中。如果你使用的是PHP5.3.3之前的PHP的话，就必须将它patch到你的PHP源代码中，在编译安装PHP后才可以使用。<br>相对Spawn-FCGI，PHP-FPM在CPU和内存方面的控制都更胜一筹，而且前者很容易崩溃，必须用crontab进行监控，而PHP-FPM则没有这种烦恼。来自百度百科</p></blockquote><h3 id="Nginx与Php-fpm结合"><a href="#Nginx与Php-fpm结合" class="headerlink" title="Nginx与Php-fpm结合"></a>Nginx与Php-fpm结合</h3><p>我们可以看到NGINX的虚拟主机配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80; <span class="comment">#监听80端口，接收http请求</span></span><br><span class="line">    server_name  www.example.com; <span class="comment">#就是网站地址</span></span><br><span class="line">    root /usr/<span class="built_in">local</span>/etc/nginx/www/huxintong_admin; <span class="comment"># 准备存放代码工程的路径</span></span><br><span class="line">    <span class="comment">#路由到网站根目录www.example.com时候的处理</span></span><br><span class="line">    location / &#123;</span><br><span class="line">        index index.php; <span class="comment">#跳转到www.example.com/index.php</span></span><br><span class="line">    &#125;   </span><br><span class="line"></span><br><span class="line">    <span class="comment">#当请求网站下php文件的时候，反向代理到php-fpm</span></span><br><span class="line">    location ~ \.php$ &#123;</span><br><span class="line">        fastcgi_pass   127.0.0.1:9000;<span class="comment">#表示nginx通过fastcgi协议将用户请求的资源发给127.0.0.1:9000进行解析，这里的nginx和php脚本解析服务器是在同一台机器上，所以127.0.0.1:9000表示的就是本地的php脚本解析服务器。</span></span><br><span class="line">        include        fastcgi_params;<span class="comment">#加载fastcgi参数，可以理解为nginx会通过fastcgi协议处理本次请求</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当我们访问<code>www.example.com</code>的时候，处理流程是这样的：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">  www.example.com</span><br><span class="line">        |</span><br><span class="line">        |</span><br><span class="line">      Nginx</span><br><span class="line">        |</span><br><span class="line">        |</span><br><span class="line">路由到www.example.com/index.php</span><br><span class="line">        |</span><br><span class="line">        |</span><br><span class="line">加载FastCgi模块</span><br><span class="line">        |</span><br><span class="line">        |</span><br><span class="line">Nginx通过FastCgi协议将请求转发到127.0.0.1:9000</span><br><span class="line">        |</span><br><span class="line">        |</span><br><span class="line">PHP-FPM监听127.0.0.1:9000</span><br><span class="line">        |</span><br><span class="line">        |</span><br><span class="line">PHP-FPM接收到请求，分配进程处理PHP</span><br><span class="line">        |</span><br><span class="line">        |</span><br><span class="line">处理完成后返回结果NGINX</span><br><span class="line">        |</span><br><span class="line">        |</span><br><span class="line">Nginx通过http协议响应给客户端</span><br></pre></td></tr></table></figure><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>当<code>Web Server</code>收到 <code>index.php</code> 这个请求后，会启动对应的 CGI 程序，这里就是PHP的解析器。接下来PHP解析器会解析<code>php.ini</code>文件，初始化执行环境，然后处理请求，再以规定CGI规定的格式返回处理后的结果，退出进程，Web server再把结果返回给浏览器。这就是一个完整的动态PHP Web访问流程，接下来再引出这些概念，就好理解多了，</p><p><code>CGI</code>：是 Web Server 与 Web Application 之间数据交换的一种协议。</p><p><code>FastCGI</code>：同 CGI，是一种通信协议，但比 CGI 在效率上做了一些优化。同样，SCGI 协议与 FastCGI 类似。</p><p><code>PHP-CGI</code>：是 PHP （Web Application）对 Web Server 提供的 CGI<br>协议的接口程序。</p><p><code>PHP-FPM</code>：是 PHP（Web Application）对 Web Server 提供的 FastCGI 协议的接口程序，额外还提供了相对智能一些任务管理。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;!-- #### 代理与反向代理

##### 正向代理：访问google.com
![img](http://wx2.sinaimg.cn/mw690/0060lm7Tly1fy534n203wj30fq02k749.jpg) --&gt;
&lt;h3 id=&quot;Nginx是什么？&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="PHP" scheme="http://defypro.github.io/categories/PHP/"/>
    
    
      <category term="Nginx" scheme="http://defypro.github.io/tags/Nginx/"/>
    
      <category term="PHP" scheme="http://defypro.github.io/tags/PHP/"/>
    
      <category term="PHP-FPM" scheme="http://defypro.github.io/tags/PHP-FPM/"/>
    
  </entry>
  
  <entry>
    <title>JS单例（ES6）</title>
    <link href="http://defypro.github.io/2018/12/12/js-singleton-(es6)/"/>
    <id>http://defypro.github.io/2018/12/12/js-singleton-(es6)/</id>
    <published>2018-12-12T15:57:33.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<p>ES6引入<code>class</code>和<code>constructor</code>来创建对象，下面我们使用ES6实现单例模式<br>使用<code>static</code>关键字定义静态方法</p><pre><code class="javascript"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>{    <span class="keyword">constructor</span>(name) {        <span class="keyword">this</span>.name = name;        <span class="keyword">this</span>.instance = <span class="literal">null</span>;    }    <span class="keyword">static</span> getInstance(name) {        <span class="keyword">if</span>(!<span class="keyword">this</span>.instance) {            <span class="keyword">this</span>.instance = <span class="keyword">new</span> Singleton(name);        }        <span class="keyword">return</span> <span class="keyword">this</span>.instance;    }}<span class="keyword">const</span> singleton1 = Singleton.getInstance(<span class="string">'singleton1'</span>);<span class="keyword">const</span> singleton2 = Singleton.getInstance(<span class="string">'singleton2'</span>);<span class="built_in">console</span>.log(singleton1 === singleton2); <span class="comment">//true</span></code></pre><p>JS中没有私有变量，所以我们借助<code>Symbol</code></p><pre><code class="javascript"><span class="keyword">const</span> name1 = <span class="built_in">Symbol</span>(<span class="string">'name1'</span>);<span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>{    <span class="keyword">constructor</span>(name) {        <span class="keyword">this</span>.name = name;        <span class="keyword">this</span>[name1] = name;        <span class="keyword">this</span>.instance = <span class="literal">null</span>;    }    <span class="keyword">static</span> getInstance(name) {        <span class="keyword">if</span>(!<span class="keyword">this</span>.instance) {            <span class="keyword">this</span>.instance = <span class="keyword">new</span> Singleton(name);        }        <span class="keyword">return</span> <span class="keyword">this</span>.instance;    }}<span class="keyword">const</span> singleton1 = Singleton.getInstance(<span class="string">'singleton1'</span>);<span class="built_in">console</span>.log(singleton1.name); <span class="comment">//singleton1</span><span class="built_in">console</span>.log(singleton1.name1); <span class="comment">//undefined</span></code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ES6引入&lt;code&gt;class&lt;/code&gt;和&lt;code&gt;constructor&lt;/code&gt;来创建对象，下面我们使用ES6实现单例模式&lt;br&gt;使用&lt;code&gt;static&lt;/code&gt;关键字定义静态方法&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;javascript&quot;
      
    
    </summary>
    
      <category term="JavaScript" scheme="http://defypro.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://defypro.github.io/tags/JavaScript/"/>
    
      <category term="ES6" scheme="http://defypro.github.io/tags/ES6/"/>
    
  </entry>
  
  <entry>
    <title>JS中各类型值对应布尔值</title>
    <link href="http://defypro.github.io/2018/12/06/boolean-values-corresponding-to-various-types-of-values-in-js/"/>
    <id>http://defypro.github.io/2018/12/06/boolean-values-corresponding-to-various-types-of-values-in-js/</id>
    <published>2018-12-06T16:30:33.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<h4 id="Boolean-对象描述"><a href="#Boolean-对象描述" class="headerlink" title="Boolean 对象描述"></a>Boolean 对象描述</h4><blockquote><p>在 JavaScript 中，布尔值是一种基本的数据类型。Boolean 对象是一个将布尔值打包的布尔对象。Boolean 对象主要用于提供将布尔值转换成字符串的 toString() 方法。</p><p>当调用 toString() 方法将布尔值转换成字符串时（通常是由 JavaScript 隐式地调用），JavaScript 会内在地将这个布尔值转换成一个临时的 Boolean对象，然后调用这个对象的 toString() 方法。</p></blockquote><h4 id="使用Boolean包装函数"><a href="#使用Boolean包装函数" class="headerlink" title="使用Boolean包装函数"></a>使用<code>Boolean</code>包装函数</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Boolean</span>(<span class="literal">undefined</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="literal">null</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="number">0</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="string">''</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="literal">NaN</span>) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="number">1</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="string">'false'</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Boolean</span>([]) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Boolean</span>(&#123;&#125;) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="regexp">/foo/</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="使用双重的否运算符"><a href="#使用双重的否运算符" class="headerlink" title="使用双重的否运算符(!!)"></a>使用双重的否运算符(<code>!!</code>)</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">!!<span class="literal">undefined</span> <span class="comment">// false</span></span><br><span class="line">!!<span class="literal">null</span> <span class="comment">// false</span></span><br><span class="line">!!<span class="number">0</span> <span class="comment">// false</span></span><br><span class="line">!!<span class="string">''</span> <span class="comment">// false</span></span><br><span class="line">!!<span class="literal">NaN</span> <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">!!<span class="number">1</span> <span class="comment">// true</span></span><br><span class="line">!!<span class="string">'false'</span> <span class="comment">// true</span></span><br><span class="line">!![] <span class="comment">// true</span></span><br><span class="line">!!&#123;&#125; <span class="comment">// true</span></span><br><span class="line">!!<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125; <span class="comment">// true</span></span><br><span class="line">!!<span class="regexp">/foo/</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="注意，对于一些特殊值，Boolean对象前面加不加new，会得到完全相反的结果，必须小心"><a href="#注意，对于一些特殊值，Boolean对象前面加不加new，会得到完全相反的结果，必须小心" class="headerlink" title="注意，对于一些特殊值，Boolean对象前面加不加new，会得到完全相反的结果，必须小心"></a>注意，<code>对于一些特殊值，Boolean对象前面加不加new，会得到完全相反的结果，必须小心</code></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">Boolean</span>(<span class="literal">false</span>)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'true'</span>);</span><br><span class="line">&#125; <span class="comment">// 无输出</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'true'</span>);</span><br><span class="line">&#125; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Boolean</span>(<span class="literal">null</span>)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'true'</span>);</span><br><span class="line">&#125; <span class="comment">// 无输出</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">null</span>)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'true'</span>);</span><br><span class="line">&#125; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h4><p><a href="http://wangdoc.com/javascript/stdlib/boolean.html" target="_blank" rel="noopener">Boolean 对象</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;Boolean-对象描述&quot;&gt;&lt;a href=&quot;#Boolean-对象描述&quot; class=&quot;headerlink&quot; title=&quot;Boolean 对象描述&quot;&gt;&lt;/a&gt;Boolean 对象描述&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;在 JavaScript 中，布尔
      
    
    </summary>
    
      <category term="JavaScript" scheme="http://defypro.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://defypro.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Object.defineProperty 简单实现数据双向绑定</title>
    <link href="http://defypro.github.io/2018/12/06/object.-defneproperty-simply-implements-bidirectional-binding-of-data/"/>
    <id>http://defypro.github.io/2018/12/06/object.-defneproperty-simply-implements-bidirectional-binding-of-data/</id>
    <published>2018-12-06T14:06:53.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Object.defineProperty() 方法会直接在一个对象上定义一个新属性，或者修改一个对象的现有属性， 并返回这个对象。</p></blockquote><h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><blockquote><p>该方法允许精确添加或修改对象的属性。通过赋值操作添加的普通属性是可枚举的，能够在属性枚举期间呈现出来（for…in 或 Object.keys 方法）， 这些属性的值可以被改变，也可以被删除。这个方法允许修改默认的额外选项（或配置）。默认情况下，使用 Object.defineProperty() 添加的属性值是不可修改的。</p></blockquote><h4 id="html"><a href="#html" class="headerlink" title="html"></a>html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">'input'</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">'text'</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = &#123;<span class="attr">text</span>:<span class="string">''</span>&#125;</span><br><span class="line"><span class="keyword">var</span> input = <span class="built_in">document</span>.querySelector(<span class="string">"#input"</span>);</span><br><span class="line"><span class="keyword">var</span> text = <span class="built_in">document</span>.querySelector(<span class="string">"#text"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(data, <span class="string">"text"</span>, &#123;</span><br><span class="line">  get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> input.value;</span><br><span class="line">  &#125;,</span><br><span class="line">  set: <span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    input.value = value;</span><br><span class="line">    text.innerText = value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">input.onkeyup = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    data.text = e.target.value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="效果如下图"><a href="#效果如下图" class="headerlink" title="效果如下图."></a>效果如下图.</h4><p><img src="data:image/gif;base64,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" alt="img"></p><h4 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h4><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener">Object.defineProperty() - JavaScript | MDN</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Object.defineProperty() 方法会直接在一个对象上定义一个新属性，或者修改一个对象的现有属性， 并返回这个对象。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;描述&quot;&gt;&lt;a href=&quot;#描述&quot; class=&quot;header
      
    
    </summary>
    
      <category term="JavaScript" scheme="http://defypro.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://defypro.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>搭建自己的ngrok内网穿透服务</title>
    <link href="http://defypro.github.io/2018/11/02/build-your-own-ngrok-intranet-penetration-service/"/>
    <id>http://defypro.github.io/2018/11/02/build-your-own-ngrok-intranet-penetration-service/</id>
    <published>2018-11-02T17:06:53.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<h3 id="为什么需要内网穿透"><a href="#为什么需要内网穿透" class="headerlink" title="为什么需要内网穿透"></a>为什么需要内网穿透</h3><p>很实用的一个场景，我们在进行微信公众号开发的时候，进行用户授权、调用JSDDK、处理公众号消息的时候需要一个可以访问的域名，如果每次都往服务器上传很麻烦，为了解决问题我们可以使用内网转发工具。<br>比如国外的<a href="https://ngrok.com/" target="_blank" rel="noopener">https://ngrok.com/</a>，国内的<a href="https://ngrok.cc/" target="_blank" rel="noopener">https://ngrok.cc/</a>、<a href="https://echosite.2bdata.com/" target="_blank" rel="noopener">echosite</a>、<a href="https://natapp.cn" target="_blank" rel="noopener">https://natapp.cn</a></p><h3 id="搭建自己的内网穿透"><a href="#搭建自己的内网穿透" class="headerlink" title="搭建自己的内网穿透"></a>搭建自己的内网穿透</h3><p>上面的这些使用起来有诸多限制，例如：不稳定，收费，不能自定义域名等等，所以决定自己用ngrok撸一个。<br>首先准备一个域名，将域名解析到自己的服务器，在域名解析中添加两条A记录<br><code>your-domain.com</code>和<code>*.ngrok.your-domain.com</code></p><h3 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h3><h4 id="GO安装"><a href="#GO安装" class="headerlink" title="GO安装"></a>GO安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#下载 Go 语言文件</span></span><br><span class="line"><span class="comment">#64位</span></span><br><span class="line">wget https://www.golangtc.com/static/go/1.9.2/go1.9.2.linux-amd64.tar.gz</span><br><span class="line"><span class="comment">#32位</span></span><br><span class="line">wget https://www.golangtc.com/static/go/1.9.2/go1.9.2.linux-386.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment">#解压</span></span><br><span class="line">tar -xzf go1.9.2.linux-amd64.tar.gz -C /usr/<span class="built_in">local</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#增加环境变量</span></span><br><span class="line">vim /etc/profile</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/usr/<span class="built_in">local</span>/go/bin</span><br><span class="line"></span><br><span class="line"><span class="comment">#测试</span></span><br><span class="line">go version</span><br></pre></td></tr></table></figure><h4 id="安装ngrok"><a href="#安装ngrok" class="headerlink" title="安装ngrok"></a>安装ngrok</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#下载ngrok源码</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/inconshreveable/ngrok.git ngrok</span><br><span class="line"><span class="built_in">cd</span> ngrok</span><br><span class="line"></span><br><span class="line"><span class="comment">#生成证书</span></span><br><span class="line">openssl genrsa -out rootCA.key 2048</span><br><span class="line">openssl req -x509 -new -nodes -key rootCA.key -subj <span class="string">"/CN=ngrok.your-domain.com"</span> -days 5000 -out rootCA.pem</span><br><span class="line">openssl genrsa -out device.key 2048</span><br><span class="line">openssl req -new -key device.key -subj <span class="string">"/CN=ngrok.your-domain.com"</span> -out device.csr</span><br><span class="line">openssl x509 -req -<span class="keyword">in</span> device.csr -CA rootCA.pem -CAkey rootCA.key -CAcreateserial -out device.crt -days 5000</span><br><span class="line"></span><br><span class="line"><span class="comment">#替换证书</span></span><br><span class="line">cp rootCA.pem assets/client/tls/ngrokroot.crt</span><br><span class="line">cp device.crt assets/server/tls/snakeoil.crt</span><br><span class="line">cp device.key assets/server/tls/snakeoil.key</span><br><span class="line"></span><br><span class="line"><span class="comment">#生成ngrok的服务端和客户端，32位的GOARCH等于386，64位的是amd64自行替换，mac段的GOOS是darwin</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#linux服务端</span></span><br><span class="line">GOOS=linux GOARCH=amd64 make release-server</span><br><span class="line"><span class="comment">#win客户端</span></span><br><span class="line">GOOS=windows GOARCH=amd64 make release-client</span><br><span class="line"></span><br><span class="line"><span class="comment">#现在进入bin目录，ngrokd就是服务端，windows_amd64里面的ngrok就是客户端</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#后台启动服务端ngrok，这里手动设置访问端口，默认使用80和443端口</span></span><br><span class="line">nohup bin/ngrokd -domain=<span class="string">"ngrok.your-domain.com"</span> -httpAddr=<span class="string">":8777"</span> -httpsAddr=<span class="string">":8778"</span>   &gt; /dev/null 2&gt;&amp;1 &amp;</span><br><span class="line"></span><br><span class="line"><span class="comment">#将客户端ngrok.exe下载到windows电脑上，在ngrok.exe的同级目录新建`ngrok.cfg`文件输入以下内容</span></span><br><span class="line">server_addr: <span class="string">"ngrok.your-domain.com:4443"</span></span><br><span class="line">trust_host_root_certs: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#然后启动客户端</span></span><br><span class="line">./ngrok -subdomain example -config=ngrok.cfg 80</span><br><span class="line"><span class="comment">#这样你就将example.ngrok.your-domain.com:8777映射到了本地的80端口</span></span><br></pre></td></tr></table></figure><h3 id="设置nginx反向代理"><a href="#设置nginx反向代理" class="headerlink" title="设置nginx反向代理"></a>设置nginx反向代理</h3><p>上面我们已经成功搭建好了ngrok，但是在访问的时候得加上端口号，所以我们使用nginx进行反向代理，新建nginx配置文件，输入一下内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">upstream ngrok &#123;</span><br><span class="line">        server 127.0.0.1:8777; <span class="comment"># 此处端口要跟 启动服务端ngrok 时指定的端口一致</span></span><br><span class="line">        keepalive 64;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        server_name *.ngrok.your-domain.com;</span><br><span class="line">        location / &#123;</span><br><span class="line">                proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">                proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">                proxy_set_header Host  <span class="variable">$http_host</span>:8777; <span class="comment"># 此处端口要跟 启动服务端ngrok 时指定的端口一致</span></span><br><span class="line">                proxy_set_header X-Nginx-Proxy <span class="literal">true</span>;</span><br><span class="line">                proxy_set_header Connection <span class="string">""</span>;</span><br><span class="line">                proxy_pass      http://ngrok;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>重启nginx<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service nginx reload</span><br></pre></td></tr></table></figure></p><p>这个时候我们就只需要访问example.ngrok.your-domain.com就可以了，nginx会自动帮我们转发到example.ngrok.your-domain.com:8777上</p><h3 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h3><p><a href="https://blog.csdn.net/truong/article/details/73250683" target="_blank" rel="noopener">https://blog.csdn.net/truong/article/details/73250683</a><br><a href="http://aevitx.com/2016/03/31/ngrok/#%E7%BC%96%E8%AF%91linux%E7%AB%AF%E7%89%88%E6%9C%AC" target="_blank" rel="noopener">http://aevitx.com/2016/03/31/ngrok/#%E7%BC%96%E8%AF%91linux%E7%AB%AF%E7%89%88%E6%9C%AC</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;为什么需要内网穿透&quot;&gt;&lt;a href=&quot;#为什么需要内网穿透&quot; class=&quot;headerlink&quot; title=&quot;为什么需要内网穿透&quot;&gt;&lt;/a&gt;为什么需要内网穿透&lt;/h3&gt;&lt;p&gt;很实用的一个场景，我们在进行微信公众号开发的时候，进行用户授权、调用JSDDK、处理
      
    
    </summary>
    
      <category term="Ngrok" scheme="http://defypro.github.io/categories/Ngrok/"/>
    
    
      <category term="Linux" scheme="http://defypro.github.io/tags/Linux/"/>
    
      <category term="Ngrok" scheme="http://defypro.github.io/tags/Ngrok/"/>
    
  </entry>
  
  <entry>
    <title>Git忽略已经过的本地文件并删除线上已经提交的文件</title>
    <link href="http://defypro.github.io/2018/10/26/git-ignores-local-files-that-have-passed-and-deletes-files-submitted-online/"/>
    <id>http://defypro.github.io/2018/10/26/git-ignores-local-files-that-have-passed-and-deletes-files-submitted-online/</id>
    <published>2018-10-26T11:43:00.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<p>在根目录添加<code>.gitignore</code>忽略文件，并且设置要忽略的文件或者目录，当要忽略的文件以及提交时</p><ul><li><p>删除本地缓存中的文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm -r --cached 文件名</span><br></pre></td></tr></table></figure></li><li><p>将删除的文件添加到本地暂存区</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure></li><li><p>将本地变更信息提交到本地仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -am <span class="string">'变更信息'</span></span><br></pre></td></tr></table></figure></li><li><p>推送到远程仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;在根目录添加&lt;code&gt;.gitignore&lt;/code&gt;忽略文件，并且设置要忽略的文件或者目录，当要忽略的文件以及提交时&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;删除本地缓存中的文件&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;t
      
    
    </summary>
    
      <category term="Git" scheme="http://defypro.github.io/categories/Git/"/>
    
    
      <category term="Git" scheme="http://defypro.github.io/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>发布一个属于自己的npm包</title>
    <link href="http://defypro.github.io/2018/10/26/publish-your-own-npm-package/"/>
    <id>http://defypro.github.io/2018/10/26/publish-your-own-npm-package/</id>
    <published>2018-10-26T11:11:11.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<p>发布一个属于自己的npm包</p><h5 id="注册NPM"><a href="#注册NPM" class="headerlink" title="注册NPM"></a>注册NPM</h5><blockquote><p>首先登陆<a href="https://www.npmjs.com/" target="_blank" rel="noopener">npm官网</a>注册一个账号，其中<code>Username</code>就是自己的登陆账号也是用于后面命名包，例如我的包<a href="https://www.npmjs.com/package/@defy/wx-jssdk" target="_blank" rel="noopener">@defy/wx-jssdk</a></p></blockquote><h5 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h5><blockquote><p>执行初始化命令，会让你填选一些信息，一路回车下去就好，后续可以在pkg里面改</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure><h5 id="修改项目结构"><a href="#修改项目结构" class="headerlink" title="修改项目结构"></a>修改项目结构</h5><blockquote><p>在根目录创建文件夹src，并且新建index.js<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> hello = &#123;</span><br><span class="line">    say: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'hello'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = hello;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>修改package.json<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"@你的username/包名"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"0.0.1"</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"src/index.js"</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><h5 id="准备发布"><a href="#准备发布" class="headerlink" title="准备发布"></a>准备发布</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#执行登录，会让你输入用户名密码和邮箱，显示Logged in as xxxx on https://registry.npmjs.org/.就是成功了</span></span><br><span class="line">npm login</span><br><span class="line"></span><br><span class="line"><span class="comment">#执行发布命令因为包名加了scope所以手动设置public</span></span><br><span class="line">npm publish --access=public</span><br><span class="line"></span><br><span class="line"><span class="comment">#发布成功会收到邮件，也会显示包名+版本号，记住每次发布版本号必须大于上一次发布的版本号</span></span><br></pre></td></tr></table></figure><h5 id="下载安装你的npm包"><a href="#下载安装你的npm包" class="headerlink" title="下载安装你的npm包"></a>下载安装你的npm包</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @你的username/包名 -S</span><br></pre></td></tr></table></figure><h5 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h5>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;发布一个属于自己的npm包&lt;/p&gt;
&lt;h5 id=&quot;注册NPM&quot;&gt;&lt;a href=&quot;#注册NPM&quot; class=&quot;headerlink&quot; title=&quot;注册NPM&quot;&gt;&lt;/a&gt;注册NPM&lt;/h5&gt;&lt;blockquote&gt;
&lt;p&gt;首先登陆&lt;a href=&quot;https://www
      
    
    </summary>
    
      <category term="NPM" scheme="http://defypro.github.io/categories/NPM/"/>
    
    
      <category term="JavaScript" scheme="http://defypro.github.io/tags/JavaScript/"/>
    
      <category term="NPM" scheme="http://defypro.github.io/tags/NPM/"/>
    
  </entry>
  
  <entry>
    <title>vue中的跨域代理</title>
    <link href="http://defypro.github.io/2018/10/15/cross-domain-proxy-in-vue/"/>
    <id>http://defypro.github.io/2018/10/15/cross-domain-proxy-in-vue/</id>
    <published>2018-10-15T09:58:57.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<p>vue中的跨域代理 通常我们使用<code>npm run dev</code>运行的是在<code>localhost:8080</code>下面运行的,<br>如果api接口没有对跨域进行设置的话那么此时浏览器同源策略会告诉你无法请求接口<br>在vue-cli2.0创建的项目中我们可以在<code>config文件夹下的index.js配置文件中</code>对<code>proxyTable</code>进行如下配置</p><pre><code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">dev: &#123;</span><br><span class="line">    proxyTable: &#123;</span><br><span class="line"><span class="string">'/api'</span>: &#123;    <span class="comment">//将www.exaple.com印射为/apis</span></span><br><span class="line">            target: <span class="string">'https://www.exaple.com'</span>,  <span class="comment">// 接口域名</span></span><br><span class="line">            changeOrigin: <span class="literal">true</span>,  <span class="comment">//是否跨域         </span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></code></pre><p>在vue-cli3.0创建的项目中我们可以在根目录创建vue.config.js进行如下配置</p><pre><code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    proxy: &#123;</span><br><span class="line">      <span class="string">'/api'</span>: &#123;</span><br><span class="line">        target: <span class="string">'https://www.exaple.com'</span>,</span><br><span class="line">        changeOrigin: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre><p>那么这个时候使用axios或者其他插件进行ajax请求时，只需要请求<code>localhost:8080/api</code>就会自动转发到<code>https://www.exaple.com</code></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;vue中的跨域代理 通常我们使用&lt;code&gt;npm run dev&lt;/code&gt;运行的是在&lt;code&gt;localhost:8080&lt;/code&gt;下面运行的,&lt;br&gt;如果api接口没有对跨域进行设置的话那么此时浏览器同源策略会告诉你无法请求接口&lt;br&gt;在vue-cli2.0创
      
    
    </summary>
    
      <category term="Vue" scheme="http://defypro.github.io/categories/Vue/"/>
    
    
      <category term="JavaScript" scheme="http://defypro.github.io/tags/JavaScript/"/>
    
      <category term="Vue" scheme="http://defypro.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>git reset --hard误操作导致文件丢失</title>
    <link href="http://defypro.github.io/2018/09/18/git-reset----file-loss-due-to-hard-misoperation/"/>
    <id>http://defypro.github.io/2018/09/18/git-reset----file-loss-due-to-hard-misoperation/</id>
    <published>2018-09-18T10:18:30.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<p>解决已经add，但是没有commit，直接运行git reset –hard xxxxx的情况(因为据说没有add直接返回版本就是死了，而且都硬了的那种)</p><ol><li>执行 git fsck –lost-found；</li><li>在.git/lost-found目录下找找看有没有你丢失的文件；</li><li>有的话复制出来，如果是文本，直接改成正确扩展名，你就笑了；</li><li>没有的话，就再去Google吧；</li></ol><h3 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章"></a>相关文章</h3><p><a href="https://blog.csdn.net/lijiafa/article/details/78275936" title="关于git reset --hard导致文件丢失的血的教训" target="_blank" rel="noopener">关于git reset –hard导致文件丢失的血的教训</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;解决已经add，但是没有commit，直接运行git reset –hard xxxxx的情况(因为据说没有add直接返回版本就是死了，而且都硬了的那种)&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;执行 git fsck –lost-found；&lt;/li&gt;
&lt;li&gt;在.git/lost-f
      
    
    </summary>
    
      <category term="Git" scheme="http://defypro.github.io/categories/Git/"/>
    
    
      <category term="Git" scheme="http://defypro.github.io/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>JS将日期转换Date对象时的问题</title>
    <link href="http://defypro.github.io/2018/09/17/problems-with-js-converting-date-objects/"/>
    <id>http://defypro.github.io/2018/09/17/problems-with-js-converting-date-objects/</id>
    <published>2018-09-17T17:12:56.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<p>二话不说上代码 在ES5之中，如果日期采用连词线（-）格式分隔，且具有前导0，JavaScript会认为这是一个ISO格式的日期字符串，导致返回的时间是以UTC时区计算的</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2014-01-01'</span>)</span><br><span class="line">    <span class="comment">// Wed Jan 01 2014 08:00:00 GMT+0800 (CST)</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2014-1-1'</span>)</span><br><span class="line">    <span class="comment">// Wed Jan 01 2014 00:00:00 GMT+0800 (CST)</span></span><br><span class="line"><span class="string">``</span><span class="string">`   </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">上面代码中，日期字符串有没有前导0，返回的结果是不一样的。如果没有前导0，JavaScript引擎假设用户处于本地时区，所以本例返回0点0分。如果有前导0（即如果你以ISO格式表示日期），就假设用户处于格林尼治国际标准时的时区，所以返回8点0分。但是，ES6改变了这种做法，规定凡是没有指定时区的日期字符串，一律认定用户处于本地时区。 问题解决</span></span><br><span class="line"><span class="string">`</span><span class="string">``</span> javascript</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2014/01/01'</span>)</span><br><span class="line">    <span class="comment">// Wed Jan 01 2014 00:00:00 GMT+0800 (CST)</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2014/1/1'</span>)</span><br><span class="line">    <span class="comment">// Wed Jan 01 2014 00:00:00 GMT+0800 (CST)</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;二话不说上代码 在ES5之中，如果日期采用连词线（-）格式分隔，且具有前导0，JavaScript会认为这是一个ISO格式的日期字符串，导致返回的时间是以UTC时区计算的&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr
      
    
    </summary>
    
      <category term="JavaScript" scheme="http://defypro.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://defypro.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>vue浏览器返回监听</title>
    <link href="http://defypro.github.io/2018/09/11/vue-browser-returns-to-monitor/"/>
    <id>http://defypro.github.io/2018/09/11/vue-browser-returns-to-monitor/</id>
    <published>2018-09-11T11:39:21.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-挂载完成后，判断浏览器是否支持popstate"><a href="#1-挂载完成后，判断浏览器是否支持popstate" class="headerlink" title="1. 挂载完成后，判断浏览器是否支持popstate"></a>1. 挂载完成后，判断浏览器是否支持popstate</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">    mounted()&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">window</span>.history &amp;&amp; <span class="built_in">window</span>.history.pushState) &#123;</span><br><span class="line">        history.pushState(<span class="literal">null</span>, <span class="literal">null</span>, <span class="built_in">document</span>.URL);</span><br><span class="line">        <span class="built_in">window</span>.addEventListener(<span class="string">'popstate'</span>, <span class="keyword">this</span>.goBack, <span class="literal">false</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### 2\. 页面销毁时，取消监听。否则其他vue路由页面也会被监听</span></span><br><span class="line"><span class="string">`</span><span class="string">``</span> javascript</span><br><span class="line">    destroyed()&#123;</span><br><span class="line">      <span class="built_in">window</span>.removeEventListener(<span class="string">'popstate'</span>, <span class="keyword">this</span>.goBack, <span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="3、将监听操作写在methods里面，removeEventListener取消监听内容必须跟开启监听保持一致，所以函数拿到methods里面写"><a href="#3、将监听操作写在methods里面，removeEventListener取消监听内容必须跟开启监听保持一致，所以函数拿到methods里面写" class="headerlink" title="3、将监听操作写在methods里面，removeEventListener取消监听内容必须跟开启监听保持一致，所以函数拿到methods里面写"></a>3、将监听操作写在methods里面，removeEventListener取消监听内容必须跟开启监听保持一致，所以函数拿到methods里面写</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">  goBack()&#123;</span><br><span class="line">    <span class="keyword">this</span>.$router.replace(&#123;<span class="attr">path</span>: <span class="string">'/'</span>&#125;);</span><br><span class="line">    <span class="comment">//replace替换原路由，作用是避免回退死循环</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;1-挂载完成后，判断浏览器是否支持popstate&quot;&gt;&lt;a href=&quot;#1-挂载完成后，判断浏览器是否支持popstate&quot; class=&quot;headerlink&quot; title=&quot;1. 挂载完成后，判断浏览器是否支持popstate&quot;&gt;&lt;/a&gt;1. 挂载完成后，判
      
    
    </summary>
    
      <category term="Vue" scheme="http://defypro.github.io/categories/Vue/"/>
    
    
      <category term="JavaScript" scheme="http://defypro.github.io/tags/JavaScript/"/>
    
      <category term="Vue" scheme="http://defypro.github.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Linux环境安装GitLab</title>
    <link href="http://defypro.github.io/2018/09/05/installation-of-gitlab-in-linux-environment/"/>
    <id>http://defypro.github.io/2018/09/05/installation-of-gitlab-in-linux-environment/</id>
    <published>2018-09-05T16:16:14.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<h3 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#配置系统防火墙,把HTTP和SSH端口开放.</span></span><br><span class="line">sudo yum install curl openssh-server postfix cronie</span><br><span class="line">sudo service postfix start</span><br><span class="line">sudo lokkit -s http -s ssh</span><br><span class="line">sudo chkconfig postfix on</span><br></pre></td></tr></table></figure><h3 id="下载安装GitLab包"><a href="#下载安装GitLab包" class="headerlink" title="下载安装GitLab包"></a>下载安装GitLab包</h3><p>GitLab下载地址:<a href="https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el6" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el6</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el6/gitlab-ce-11.1.6-ce.0.el6.x86_64.rpm</span><br><span class="line">rpm -Uvh gitlab-ce-11.1.6-ce.0.el6.x86_64.rpm</span><br></pre></td></tr></table></figure></p><h3 id="修改gitlab配置文件指定服务器ip和自定义端口"><a href="#修改gitlab配置文件指定服务器ip和自定义端口" class="headerlink" title="修改gitlab配置文件指定服务器ip和自定义端口"></a>修改gitlab配置文件指定服务器ip和自定义端口</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/gitlab/gitlab.rb</span><br><span class="line"><span class="comment">#禁用gitlab附带的nginx</span></span><br><span class="line">nginx[<span class="string">'enable'</span>] = <span class="literal">false</span></span><br><span class="line">gitlab_workhorse[<span class="string">'enable'</span>] = <span class="literal">true</span></span><br><span class="line">gitlab_workhorse[<span class="string">'listen_network'</span>] = <span class="string">"tcp"</span></span><br><span class="line"><span class="comment">#设置gitlab监听端口</span></span><br><span class="line">gitlab_workhorse[<span class="string">'listen_addr'</span>] = <span class="string">"127.0.0.1:8181"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#配置邮件</span></span><br><span class="line">gitlab_rails[<span class="string">'gitlab_email_from'</span>] = <span class="string">'xxxxx@qq.com'</span></span><br><span class="line"></span><br><span class="line">gitlab_rails[<span class="string">'smtp_enable'</span>] = <span class="literal">true</span></span><br><span class="line">gitlab_rails[<span class="string">'smtp_address'</span>] = <span class="string">"smtp.qq.com"</span></span><br><span class="line">gitlab_rails[<span class="string">'smtp_port'</span>] = 465</span><br><span class="line">gitlab_rails[<span class="string">'smtp_user_name'</span>] = <span class="string">"xxxxx@qq.com"</span></span><br><span class="line">gitlab_rails[<span class="string">'smtp_password'</span>] = <span class="string">"xxxxx"</span></span><br><span class="line">gitlab_rails[<span class="string">'smtp_domain'</span>] = <span class="string">"smtp.qq.com"</span></span><br><span class="line">gitlab_rails[<span class="string">'smtp_authentication'</span>] = <span class="string">"login"</span></span><br><span class="line">gitlab_rails[<span class="string">'smtp_enable_starttls_auto'</span>] = <span class="literal">true</span></span><br><span class="line">gitlab_rails[<span class="string">'smtp_tls'</span>] = <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="创建nginx配置文件"><a href="#创建nginx配置文件" class="headerlink" title="创建nginx配置文件"></a>创建nginx配置文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/nginx/conf.d/gitlab.xxx.com.conf</span><br><span class="line"></span><br><span class="line">upstream gitlab-workhorse &#123;</span><br><span class="line">  server 127.0.0.1:8181; <span class="comment">#根据实际情况修改</span></span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">  listen 80;</span><br><span class="line">  listen [::]:80 default_server;</span><br><span class="line">  server_name gitlab.xxx.com; <span class="comment">## 修改成自己的域名；</span></span><br><span class="line">  server_tokens off; <span class="comment">## Don't show the nginx version number, a security best practice</span></span><br><span class="line">  root /opt/gitlab/embedded/service/gitlab-rails/public;</span><br><span class="line"></span><br><span class="line">  <span class="comment">## See app/controllers/application_controller.rb for headers set</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">## Individual nginx logs for this GitLab vhost</span></span><br><span class="line">  <span class="comment">## access_log  /home/wwwlogs/gitlab_access.log; # 根据实际情况修改</span></span><br><span class="line">  <span class="comment">## error_log   /home/wwwlogs/gitlab_error.log; # 根据实际情况修改</span></span><br><span class="line"></span><br><span class="line">  location / &#123;</span><br><span class="line">    client_max_body_size 0;</span><br><span class="line">    gzip off;</span><br><span class="line"></span><br><span class="line">    <span class="comment">## https://github.com/gitlabhq/gitlabhq/issues/694</span></span><br><span class="line">    <span class="comment">## Some requests take more than 30 seconds.</span></span><br><span class="line">    proxy_read_timeout      300;</span><br><span class="line">    proxy_connect_timeout   300;</span><br><span class="line">    proxy_redirect          off;</span><br><span class="line"></span><br><span class="line">    proxy_http_version 1.1;</span><br><span class="line"></span><br><span class="line">    proxy_set_header    Host                <span class="variable">$http_host</span>;</span><br><span class="line">    proxy_set_header    X-Real-IP           <span class="variable">$remote_addr</span>;</span><br><span class="line">    proxy_set_header    X-Forwarded-For     <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">    proxy_set_header    X-Forwarded-Proto   <span class="variable">$scheme</span>;</span><br><span class="line"></span><br><span class="line">    proxy_pass http://gitlab-workhorse;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="重载配置"><a href="#重载配置" class="headerlink" title="重载配置"></a>重载配置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#重载配置</span></span><br><span class="line">sudo gitlab-ctl reconfigure</span><br><span class="line"><span class="comment">#启动</span></span><br><span class="line">gitlab-ctl start</span><br><span class="line"><span class="comment">#停止</span></span><br><span class="line">gitlab-ctl stop</span><br><span class="line"><span class="comment">#重启</span></span><br><span class="line">gitlab-ctl restart</span><br></pre></td></tr></table></figure><p>打开浏览器访问gitlab.xxx.com</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;安装依赖&quot;&gt;&lt;a href=&quot;#安装依赖&quot; class=&quot;headerlink&quot; title=&quot;安装依赖&quot;&gt;&lt;/a&gt;安装依赖&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre
      
    
    </summary>
    
      <category term="Git" scheme="http://defypro.github.io/categories/Git/"/>
    
    
      <category term="Linux" scheme="http://defypro.github.io/tags/Linux/"/>
    
      <category term="GitLab" scheme="http://defypro.github.io/tags/GitLab/"/>
    
  </entry>
  
  <entry>
    <title>MySQL 常用30种SQL查询语句优化方法</title>
    <link href="http://defypro.github.io/2018/09/03/mysql-query-statement-optimization-method-for-30-commonly-used-sql-queries/"/>
    <id>http://defypro.github.io/2018/09/03/mysql-query-statement-optimization-method-for-30-commonly-used-sql-queries/</id>
    <published>2018-09-03T14:56:18.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<p>1、应尽量避免在 where 子句中使用!=或&lt;&gt;操作符，否则将引擎放弃使用索引而进行全表扫描。 2、对查询进行优化，应尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。 3、应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描。如：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">    select id from t <span class="built_in">where</span> num is null</span><br><span class="line">    </span><br><span class="line">    --可以在num上设置默认值0，确保表中num列没有null值，然后这样查询：</span><br><span class="line">    </span><br><span class="line">    select id from t <span class="built_in">where</span> num=0</span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line">4、尽量避免在 <span class="built_in">where</span> 子句中使用 or 来连接条件，否则将导致引擎放弃使用索引而进行全表扫描，如：</span><br><span class="line">```bash</span><br><span class="line">    select id from t <span class="built_in">where</span> num=10 or num=20</span><br><span class="line">    </span><br><span class="line">    --可以这样查询：</span><br><span class="line">    </span><br><span class="line">    select id from t <span class="built_in">where</span> num=10</span><br><span class="line">    </span><br><span class="line">    union all</span><br><span class="line">    </span><br><span class="line">    select id from t <span class="built_in">where</span> num=20</span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line">5、下面的查询也将导致全表扫描：(不能前置百分号)</span><br><span class="line">```bash</span><br><span class="line">    select id from t <span class="built_in">where</span> name like ‘%c%’</span><br><span class="line">    </span><br><span class="line">    --下面走索引</span><br><span class="line">    </span><br><span class="line">    select id from t <span class="built_in">where</span> name like ‘c%’</span><br><span class="line">    </span><br><span class="line">    --若要提高效率，可以考虑全文检索。</span><br></pre></td></tr></table></figure></p><p>6、in 和 not in 也要慎用，否则会导致全表扫描，如：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">select id from t <span class="built_in">where</span> num <span class="keyword">in</span>(1,2,3)</span><br><span class="line"></span><br><span class="line">--对于连续的数值，能用 between 就不要用 <span class="keyword">in</span> 了：</span><br><span class="line"></span><br><span class="line">select id from t <span class="built_in">where</span> num between 1 and 3</span><br></pre></td></tr></table></figure></p><p>7、如果在 where 子句中使用参数，也会导致全表扫描。因为SQL只有在运行时才会解析局部变量，但优化程序不能将访问计划的选择推迟到运行时；它必须在编译时进行选择。然 而，如果在编译时建立访问计划，变量的值还是未知的，因而无法作为索引选择的输入项。如下面语句将进行全表扫描：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">    select id from t <span class="built_in">where</span> num=@num</span><br><span class="line">    </span><br><span class="line">    --可以改为强制查询使用索引：</span><br><span class="line">    </span><br><span class="line">    select id from t with(index(索引名)) <span class="built_in">where</span> num=@num</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">8、应尽量避免在 <span class="built_in">where</span> 子句中对字段进行表达式操作，这将导致引擎放弃使用索引而进行全表扫描。如：</span><br><span class="line">```bash</span><br><span class="line">    select id from t <span class="built_in">where</span> num/2=100</span><br><span class="line">    </span><br><span class="line">    --应改为:</span><br><span class="line">    </span><br><span class="line">    select id from t <span class="built_in">where</span> num=100*2</span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line">9、应尽量避免在<span class="built_in">where</span>子句中对字段进行函数操作，这将导致引擎放弃使用索引而进行全表扫描。如：</span><br><span class="line">```bash</span><br><span class="line">    select id from t <span class="built_in">where</span> substring(name,1,3)=’abc’ --name以abc开头的id</span><br><span class="line">    </span><br><span class="line">    select id from t <span class="built_in">where</span> datediff(day,createdate,’2005-11-30′)=0 –’2005-11-30′ --生成的id</span><br><span class="line">    </span><br><span class="line">    --应改为:</span><br><span class="line">    </span><br><span class="line">    select id from t <span class="built_in">where</span> name like ‘abc%’</span><br><span class="line">    </span><br><span class="line">    select id from t <span class="built_in">where</span> createdate&gt;=’2005-11-30′ and createdate&lt;’2005-12-1′</span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line">10、不要在 <span class="built_in">where</span> 子句中的“=”左边进行函数、算术运算或其他表达式运算，否则系统将可能无法正确使用索引。 11、在使用索引字段作为条件时，如果该索引是复合索引，那么必须使用到该索引中的第一个字段作为条件时才能保证系统使用该索引，否则该索引将不会被使 用，并且应尽可能的让字段顺序与索引顺序相一致。 12、不要写一些没有意义的查询，如需要生成一个空表结构：</span><br><span class="line">```bash</span><br><span class="line">    select col1,col2 into <span class="comment">#t from t where 1=0</span></span><br><span class="line">    </span><br><span class="line">    --这类代码不会返回任何结果集，但是会消耗系统资源的，应改成这样：</span><br><span class="line">    </span><br><span class="line">    create table <span class="comment">#t(…)</span></span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line">13、很多时候用 exists 代替 <span class="keyword">in</span> 是一个好的选择：</span><br><span class="line">```bash</span><br><span class="line">    select num from a <span class="built_in">where</span> num <span class="keyword">in</span>(select num from b)</span><br><span class="line">    </span><br><span class="line">    --用下面的语句替换：</span><br><span class="line">    </span><br><span class="line">    select num from a <span class="built_in">where</span> exists(select 1 from b <span class="built_in">where</span> num=a.num)</span><br></pre></td></tr></table></figure></p><p>14、并不是所有索引对查询都有效，SQL是根据表中数据来进行查询优化的，当索引列有大量数据重复时，SQL查询可能不会去利用索引，如一表中有字段 sex，male、female几乎各一半，那么即使在sex上建了索引也对查询效率起不了作用。 </p><p>15、索引并不是越多越好，索引固然可以提高相应的 select 的效率，但同时也降低了 insert 及 update 的效率，因为 insert 或 update 时有可能会重建索引，所以怎样建索引需要慎重考虑，视具体情况而定。一个表的索引数较好不要超过6个，若太多则应考虑一些不常使用到的列上建的索引是否有 必要。 </p><p>16.应尽可能的避免更新 clustered 索引数据列，因为 clustered 索引数据列的顺序就是表记录的物理存储顺序，一旦该列值改变将导致整个表记录的顺序的调整，会耗费相当大的资源。若应用系统需要频繁更新 clustered 索引数据列，那么需要考虑是否应将该索引建为 clustered 索引。 </p><p>17、尽量使用数字型字段，若只含数值信息的字段尽量不要设计为字符型，这会降低查询和连接的性能，并会增加存储开销。这是因为引擎在处理查询和连接时会 逐个比较字符串中每一个字符，而对于数字型而言只需要比较一次就够了。 </p><p>18、尽可能的使用 varchar/nvarchar 代替 char/nchar ，因为首先变长字段存储空间小，可以节省存储空间，其次对于查询来说，在一个相对较小的字段内搜索效率显然要高些。 </p><p>19、任何地方都不要使用 select <em> from t ，用具体的字段列表代替“</em>”，不要返回用不到的任何字段。 </p><p>20、尽量使用表变量来代替临时表。如果表变量包含大量数据，请注意索引非常有限（只有主键索引）。 </p><p>21、避免频繁创建和删除临时表，以减少系统表资源的消耗。 </p><p>22、临时表并不是不可使用，适当地使用它们可以使某些例程更有效，例如，当需要重复引用大型表或常用表中的某个数据集时。但是，对于一次性事件，较好使 用导出表。 </p><p>23、在新建临时表时，如果一次性插入数据量很大，那么可以使用 select into 代替 create table，避免造成大量 log ，以提高速度；如果数据量不大，为了缓和系统表的资源，应先create table，然后insert。 </p><p>24、如果使用到了临时表，在存储过程的最后务必将所有的临时表显式删除，先 truncate table ，然后 drop table ，这样可以避免系统表的较长时间锁定。 </p><p>25、尽量避免使用游标，因为游标的效率较差，如果游标操作的数据超过1万行，那么就应该考虑改写。 </p><p>26、使用基于游标的方法或临时表方法之前，应先寻找基于集的解决方案来解决问题，基于集的方法通常更有效。 </p><p>27、与临时表一样，游标并不是不可使用。对小型数据集使用 FAST_FORWARD 游标通常要优于其他逐行处理方法，尤其是在必须引用几个表才能获得所需的数据时。在结果集中包括“合计”的例程通常要比使用游标执行的速度快。如果开发时 间允许，基于游标的方法和基于集的方法都可以尝试一下，看哪一种方法的效果更好。 </p><p>28、在所有的存储过程和触发器的开始处设置 SET NOCOUNT ON ，在结束时设置 SET NOCOUNT OFF 。无需在执行存储过程和触发器的每个语句后向客户端发送 DONEINPROC 消息。 </p><p>29、尽量避免向客户端返回大数据量，若数据量过大，应该考虑相应需求是否合理。 </p><p>30、尽量避免大事务操作，提高系统并发能力。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;1、应尽量避免在 where 子句中使用!=或&amp;lt;&amp;gt;操作符，否则将引擎放弃使用索引而进行全表扫描。 2、对查询进行优化，应尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。 3、应尽量避免在 where 子句中对字段进行 nul
      
    
    </summary>
    
      <category term="MySQL" scheme="http://defypro.github.io/categories/MySQL/"/>
    
    
      <category term="MySQL" scheme="http://defypro.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>CSS变量（自定义属性）</title>
    <link href="http://defypro.github.io/2018/09/03/css-variables-(custom-properties)/"/>
    <id>http://defypro.github.io/2018/09/03/css-variables-(custom-properties)/</id>
    <published>2018-09-03T14:37:33.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<p>我们知道使用<a href="https://www.sass.hk" target="_blank" rel="noopener">sass</a>和<a href="http://lesscss.cn" target="_blank" rel="noopener">less</a>这样的预处理器可以让我们在css中使用变量等便利的特性。<br>随着css新特性的不断增加，官方也提供了css变量供我们使用，叫做自定义属性，下面我们来看看怎么使用它。</p><h3 id="变量的声明"><a href="#变量的声明" class="headerlink" title="变量的声明"></a>变量的声明</h3><p>声明变量的时候，变量名前面要加两根连词线（–）</p><pre><code class="css"><span class="selector-pseudo">:root</span> {  <span class="attribute">--foo</span>: <span class="number">#EEEEEE</span>;  <span class="attribute">--bar</span>: <span class="number">#FFFFFF</span>;}</code></pre><p>这样我们就在根节点声明了两个自定义的变量<code>foo</code>和<code>bar</code></p><pre><code class="css"><span class="selector-pseudo">:root</span> {  <span class="attribute">--Foo</span>: <span class="number">#73A4F4</span>;  <span class="attribute">--foo</span>: <span class="number">#EEEEEE</span>;}</code></pre><p>需要注意的是变量名的大小写是敏感的<code>Foo</code>和<code>foo</code>是两个不同的变量</p><h3 id="变量的使用"><a href="#变量的使用" class="headerlink" title="变量的使用"></a>变量的使用</h3><p>使用<code>var()</code>函数读取变量</p><pre><code class="css"><span class="selector-tag">a</span> {  <span class="attribute">color</span>: <span class="built_in">var</span>(--foo);  <span class="attribute">text-decoration-color</span>: <span class="built_in">var</span>(--bar);}</code></pre><p><code>var()</code>函数还可以使用第二个参数，表示变量的默认值。如果该变量不存在，就会使用这个默认值。</p><pre><code class="css"><span class="selector-tag">a</span> {  <span class="attribute">color</span>: <span class="built_in">var</span>(--foo, #7F583F);}</code></pre><p>第二个参数不处理内部的逗号或空格，都视作参数的一部分。</p><pre><code class="css"><span class="selector-tag">var</span>(<span class="selector-tag">--font-stack</span>, "<span class="selector-tag">Roboto</span>", "<span class="selector-tag">Helvetica</span>");<span class="selector-tag">var</span>(<span class="selector-tag">--pad</span>, 10<span class="selector-tag">px</span> 15<span class="selector-tag">px</span> 20<span class="selector-tag">px</span>);</code></pre><p>var()函数还可以用在变量的声明。</p><pre><code class="css"><span class="selector-pseudo">:root</span> {  <span class="attribute">--primary-color</span>: red;  <span class="attribute">--logo-text</span>: <span class="built_in">var</span>(--primary-color);}</code></pre><h3 id="兼容性处理"><a href="#兼容性处理" class="headerlink" title="兼容性处理"></a>兼容性处理</h3><p>对于不支持 CSS 变量的浏览器，可以采用下面的写法。</p><pre><code class="css"><span class="selector-tag">a</span> {  <span class="attribute">color</span>: <span class="number">#7F583F</span>;  <span class="attribute">color</span>: <span class="built_in">var</span>(--primary);}</code></pre><p>也可以使用@support命令进行检测。</p><pre><code class="css">@<span class="keyword">supports</span> ( (--a: <span class="number">0</span>)) {  <span class="comment">/* supported */</span>}@<span class="keyword">supports</span> ( not (--a: <span class="number">0</span>)) {  <span class="comment">/* not supported */</span>}</code></pre><h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><p><a href="http://www.ruanyifeng.com/blog/2017/05/css-variables.html" title="CSS 变量教程" target="_blank" rel="noopener">CSS 变量教程</a><br><a href="https://vgpena.github.io/winning-with-css-variables/" title="Winning with CSS Variables" target="_blank" rel="noopener">Winning with CSS Variables</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;我们知道使用&lt;a href=&quot;https://www.sass.hk&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;sass&lt;/a&gt;和&lt;a href=&quot;http://lesscss.cn&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;le
      
    
    </summary>
    
      <category term="CSS" scheme="http://defypro.github.io/categories/CSS/"/>
    
    
      <category term="CSS" scheme="http://defypro.github.io/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>Centos6中无法通过Nginx访问资源文件</title>
    <link href="http://defypro.github.io/2018/08/31/centos6-cannot-access-resource-files-through-nginx/"/>
    <id>http://defypro.github.io/2018/08/31/centos6-cannot-access-resource-files-through-nginx/</id>
    <published>2018-08-31T15:07:45.000Z</published>
    <updated>2019-05-22T01:58:58.192Z</updated>
    
    <content type="html"><![CDATA[<p>在谷歌云搞了个免费的服务器，搭建了一个wordpress结果css、js一直报404，一开始以为是nginx的启动用户和文件用户不一样，<br>检查了一遍nginx.conf配置，将user nobody改成了user www，重启nginx发现还是404，<br>网上各种搜索于是找到了这篇文章<a href="https://blog.csdn.net/johnnycode/article/details/41947581" title="Nginx 因 Selinux 服务导致无法远程访问" target="_blank" rel="noopener">Nginx 因 Selinux 服务导致无法远程访问</a>解决了我的问题。<br>下面简单说说吧，其实还是不太理解。<br>发现网站有资源文件404的话首先查看一下资源文件目录 <img src="https://i.loli.net/2018/08/30/5b878975356db.jpg" alt="blob.jpg"> 发现权限后面都带了一个<code>.</code>那就说明这个文件是收保护的，再运行一下getenforce查看selinux的运行模式</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ getenforce</span><br><span class="line">Enforcing</span><br></pre></td></tr></table></figure><p>运行模式分为三种 enforcing (强制模式)、permissive（宽容模式）、disabled（关闭） 所以此时要解决这个问题有两种方法； 1.临时关闭</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ setenforce 0</span><br></pre></td></tr></table></figure><p>2.永久关闭，修改 /etc/selinux/config 文件（如下）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># This file controls the state of SELinux on the system.</span></span><br><span class="line"><span class="comment"># SELINUX= can take one of these three values:</span></span><br><span class="line"><span class="comment">#     enforcing - SELinux security policy is enforced.</span></span><br><span class="line"><span class="comment">#     permissive - SELinux prints warnings instead of enforcing.</span></span><br><span class="line"><span class="comment">#     disabled - No SELinux policy is loaded.</span></span><br><span class="line">SELINUX=disabled</span><br><span class="line"><span class="comment"># SELINUXTYPE= can take one of these two values:</span></span><br><span class="line"><span class="comment">#     targeted - Targeted processes are protected,</span></span><br><span class="line"><span class="comment">#     mls - Multi Level Security protection.</span></span><br><span class="line">SELINUXTYPE=targeted</span><br></pre></td></tr></table></figure><p>重启电脑查看 Selinux 状态，应该为关闭状态</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ getenforce</span><br><span class="line">Disabled</span><br></pre></td></tr></table></figure><p>此时新建文件，查看文件权限后面也就没有带<code>.</code>了，静态资源也可以正常访问了</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;在谷歌云搞了个免费的服务器，搭建了一个wordpress结果css、js一直报404，一开始以为是nginx的启动用户和文件用户不一样，&lt;br&gt;检查了一遍nginx.conf配置，将user nobody改成了user www，重启nginx发现还是404，&lt;br&gt;网上各种
      
    
    </summary>
    
      <category term="Linux" scheme="http://defypro.github.io/categories/Linux/"/>
    
    
      <category term="Linux" scheme="http://defypro.github.io/tags/Linux/"/>
    
      <category term="Nginx" scheme="http://defypro.github.io/tags/Nginx/"/>
    
  </entry>
  
</feed>
